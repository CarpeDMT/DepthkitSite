{
  "version": 3,
  "sources": ["../../rvfc-polyfill/index.js"],
  "sourcesContent": ["if (typeof HTMLVideoElement !== 'undefined' && !('requestVideoFrameCallback' in HTMLVideoElement.prototype) && 'getVideoPlaybackQuality' in HTMLVideoElement.prototype) {\r\n  HTMLVideoElement.prototype._rvfcpolyfillmap = {}\r\n  HTMLVideoElement.prototype.requestVideoFrameCallback = function (callback) {\r\n    const handle = performance.now()\r\n    const quality = this.getVideoPlaybackQuality()\r\n    const baseline = this.mozPresentedFrames || this.mozPaintedFrames || quality.totalVideoFrames - quality.droppedVideoFrames\r\n\r\n    const check = (old, now) => {\r\n      const newquality = this.getVideoPlaybackQuality()\r\n      const presentedFrames = this.mozPresentedFrames || this.mozPaintedFrames || newquality.totalVideoFrames - newquality.droppedVideoFrames\r\n      if (presentedFrames > baseline) {\r\n        const processingDuration = this.mozFrameDelay || (newquality.totalFrameDelay - quality.totalFrameDelay) || 0\r\n        const timediff = now - old // HighRes diff\r\n        callback(now, {\r\n          presentationTime: now + processingDuration * 1000,\r\n          expectedDisplayTime: now + timediff,\r\n          width: this.videoWidth,\r\n          height: this.videoHeight,\r\n          mediaTime: Math.max(0, this.currentTime || 0) + timediff / 1000,\r\n          presentedFrames,\r\n          processingDuration\r\n        })\r\n        delete this._rvfcpolyfillmap[handle]\r\n      } else {\r\n        this._rvfcpolyfillmap[handle] = requestAnimationFrame(newer => check(now, newer))\r\n      }\r\n    }\r\n    this._rvfcpolyfillmap[handle] = requestAnimationFrame(newer => check(handle, newer))\r\n    return handle\r\n  }\r\n\r\n  HTMLVideoElement.prototype.cancelVideoFrameCallback = function (handle) {\r\n    cancelAnimationFrame(this._rvfcpolyfillmap[handle])\r\n    delete this._rvfcpolyfillmap[handle]\r\n  }\r\n}\r\n"],
  "mappings": ";AAAA,IAAI,OAAO,qBAAqB,eAAe,EAAE,+BAA+B,iBAAiB,cAAc,6BAA6B,iBAAiB,WAAW;AACtK,mBAAiB,UAAU,mBAAmB,CAAC;AAC/C,mBAAiB,UAAU,4BAA4B,SAAU,UAAU;AACzE,UAAM,SAAS,YAAY,IAAI;AAC/B,UAAM,UAAU,KAAK,wBAAwB;AAC7C,UAAM,WAAW,KAAK,sBAAsB,KAAK,oBAAoB,QAAQ,mBAAmB,QAAQ;AAExG,UAAM,QAAQ,CAAC,KAAK,QAAQ;AAC1B,YAAM,aAAa,KAAK,wBAAwB;AAChD,YAAM,kBAAkB,KAAK,sBAAsB,KAAK,oBAAoB,WAAW,mBAAmB,WAAW;AACrH,UAAI,kBAAkB,UAAU;AAC9B,cAAM,qBAAqB,KAAK,iBAAkB,WAAW,kBAAkB,QAAQ,mBAAoB;AAC3G,cAAM,WAAW,MAAM;AACvB,iBAAS,KAAK;AAAA,UACZ,kBAAkB,MAAM,qBAAqB;AAAA,UAC7C,qBAAqB,MAAM;AAAA,UAC3B,OAAO,KAAK;AAAA,UACZ,QAAQ,KAAK;AAAA,UACb,WAAW,KAAK,IAAI,GAAG,KAAK,eAAe,CAAC,IAAI,WAAW;AAAA,UAC3D;AAAA,UACA;AAAA,QACF,CAAC;AACD,eAAO,KAAK,iBAAiB,MAAM;AAAA,MACrC,OAAO;AACL,aAAK,iBAAiB,MAAM,IAAI,sBAAsB,WAAS,MAAM,KAAK,KAAK,CAAC;AAAA,MAClF;AAAA,IACF;AACA,SAAK,iBAAiB,MAAM,IAAI,sBAAsB,WAAS,MAAM,QAAQ,KAAK,CAAC;AACnF,WAAO;AAAA,EACT;AAEA,mBAAiB,UAAU,2BAA2B,SAAU,QAAQ;AACtE,yBAAqB,KAAK,iBAAiB,MAAM,CAAC;AAClD,WAAO,KAAK,iBAAiB,MAAM;AAAA,EACrC;AACF;",
  "names": []
}
